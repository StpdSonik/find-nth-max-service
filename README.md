# Сервис для поиска N-го максимального числа из Excel файла

## Описание

Этот сервис представляет собой Spring Boot REST API для обработки файлов формата Excel (.xlsx). Сервис принимает путь к локальному файлу, содержащему список целых чисел, расположенных в первом столбце, и возвращает N-е максимальное число из этого списка.

Основная задача – не просто отсортировать список, а эффективно найти N-е максимальное значение с использованием кастомного алгоритма, который не применяет стандартные функции сортировки.

## Особенности
- Обрабатывает Excel-файлы формата .xlsx.
- Позволяет искать N-е максимальное число из списка целых чисел в файле.
- Использует кастомный алгоритм для поиска N-го максимального числа.
- Реализована документация API через Swagger, доступная по `/swagger-ui.html`.

## Используемые технологии

- Java 21
- Spring Boot
- Apache POI для работы с Excel файлами
- OpenAPI/Swagger для документирования API

---

## API

### POST `/api/find-max`

Метод для поиска N-го максимального числа в Excel-файле.

#### Параметры запроса:
- `filePath` (String): Абсолютный путь к локальному файлу формата .xlsx. Файл должен содержать список целых чисел в первом столбце.
- `n` (int): Число N, которое определяет, какое по счету максимальное число должно быть возвращено.

#### Пример запроса:
```bash
curl -X POST "http://localhost:8080/api/find-max" \
    -H "Content-Type: application/x-www-form-urlencoded" \
    -d "filePath=C:/files/numbers.xlsx&n=3"
```

#### Ответ:
- Успешный ответ (HTTP 200):
    ```
    {
      "3"
    }
    ```
  Возвращает N-е максимальное число из файла.

- Ошибка (HTTP 400):
    - Если файл не найден по указанному пути.
    - Если число N больше количества чисел в файле.

#### Пример ответа:
```
{
  "3"
}
```

---

## Инструкция по запуску

### Предварительные условия
- Убедитесь, что на вашем компьютере установлены:
    - **Java 21**
    - **Maven** (для сборки проекта)

### Сборка и запуск приложения

1. **Склонируйте проект:**
   ```bash
   git clone https://github.com/StpdSonik/find-nth-max-service.git
   ```

2. **Перейдите в директорию проекта:**
   ```bash
   cd find-nth-max-service
   ```

3. **Соберите проект с помощью Maven:**
   ```bash
   mvn clean install
   ```

4. **Запустите приложение:**
   ```bash
   mvn spring-boot:run
   ```

Приложение будет запущено на `http://localhost:8080`.

### Доступ к Swagger UI

После запуска приложения, вы можете получить доступ к документации API через интерфейс Swagger:

1. Откройте браузер.
2. Перейдите по адресу:
   ```bash
   http://localhost:8080/swagger-ui.html
   ```
### Запуск приложения с помощью Docker

1. **Соберите проект с помощью Maven:**
   ```bash
   mvn clean install
   ```

2. **Создайте Docker-образ:**
   ```bash
   docker build -t find-nth-max-service .
   ```

3. **Запустите контейнер с приложением:**
   ```bash
   docker run -p 8080:8080 find-nth-max-service
   ```

4. **Доступ к приложению:**
    - Приложение будет доступно по адресу: `http://localhost:8080`
    - Документация API (Swagger) доступна по адресу: `http://localhost:8080/swagger-ui.html`

### Тестирование API

Вы можете протестировать API с помощью cURL, Postman или через Swagger UI:

#### Пример cURL-запроса:
```bash
curl -X POST "http://localhost:8080/api/find-max" \
    -H "Content-Type: application/x-www-form-urlencoded" \
    -d "filePath=C:/files/numbers.xlsx&n=3"
```

---
## Возможные ошибки

- **400 Bad Request**: Возвращается, если:
    - Файл не найден по указанному пути.
    - Значение N не корректно.